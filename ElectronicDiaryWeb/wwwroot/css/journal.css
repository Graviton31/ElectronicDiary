/* ==================== ОСНОВНЫЕ СТИЛИ КОНТЕЙНЕРА ==================== */
/* Главный контей

/* Контейнер основного содержимого */
.journal-content {
    background-color: white; /* Белый фон */
    border-radius: 16px; /* Скругление углов */
    padding: 2rem; /* Внутренние отступы */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); /* Тень */
}

/* ==================== БЛОКИ ВЫБОРА (СЕЛЕКТОРЫ) ==================== */

.clickable-student {
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
}

    .clickable-student:hover {
        background-color: #f8f9fa;
        transform: translateY(-2px);
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Иконка стрелки (по желанию) */
    .clickable-student::after {
        content: "→";
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        opacity: 0;
        transition: opacity 0.2s ease;
    }

    .clickable-student:hover::after {
        opacity: 0.5;
    }

/* Контейнер селекторов */
.journal-selectors {
    margin-bottom: 1.5rem; /* Отступ снизу */
}

/* Карточка селектора */
.selector-card {
    background: white; /* Белый фон */
    border-radius: 12px; /* Скругление углов */
    padding: 1.25rem; /* Внутренние отступы */
    border: 1px solid #e2e8f0; /* Граница */
    transition: all 0.3s ease; /* Плавные переходы */
    height: 100%; /* Занимает всю высоту */
}

    .selector-card:hover {
        transform: translateY(-2px); /* Эффект приподнятия */
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Тень при наведении */
    }

/* Метка селектора */
.selector-label {
    font-weight: 500; /* Полужирный текст */
    color: #475569; /* Цвет текста */
    margin-bottom: 0.75rem; /* Отступ снизу */
    display: flex; /* Flex-контейнер */
    align-items: center; /* Выравнивание по центру */
    font-size: 0.95rem; /* Размер текста */
}

    .selector-label i {
        margin-right: 0.5rem; /* Отступ справа от иконки */
        font-size: 1.1rem; /* Размер иконки */
        color: #4361ee; /* Цвет иконки */
    }

/* Поле ввода/выбора */
.selector-input {
    border-radius: 10px; /* Скругление углов */
    border: 1px solid #e2e8f0; /* Граница */
    padding: 0.6rem 1rem; /* Внутренние отступы */
    font-size: 0.95rem; /* Размер текста */
    transition: all 0.3s ease; /* Плавные переходы */
}

    .selector-input:focus {
        border-color: #4361ee; /* Цвет границы при фокусе */
        box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1); /* Тень при фокусе */
    }

    .selector-input:disabled {
        background-color: #f1f5f9; /* Фон для disabled */
        cursor: not-allowed; /* Курсор "недоступно" */
    }

/* ==================== БЛОК УПРАВЛЕНИЯ ==================== */
/* Основной контейнер элементов управления */
.journal-controls-container {
    display: flex; /* Flex-контейнер */
    flex-wrap: wrap; /* Перенос на новую строку */
    gap: 1rem; /* Расстояние между элементами */
    align-items: center; /* Выравнивание по центру */
    margin-bottom: 1.5rem; /* Отступ снизу */
    background: white; /* Белый фон */
    padding: 1rem; /* Внутренние отступы */
    border-radius: 12px; /* Скругление углов */
    border: 1px solid #e2e8f0; /* Граница */
}

/* Селектор периода */
.journal-period-selector {
    flex: 1; /* Занимает доступное пространство */
    min-width: 250px; /* Минимальная ширина */
}

/* Группа кнопок действий */
.journal-actions {
    display: flex; /* Flex-контейнер */
    gap: 1rem; /* Расстояние между кнопками */
    flex-wrap: wrap; /* Перенос на новую строку */
}

/* ==================== БЛОК СТАТИСТИКИ ==================== */
.journal-stats {
    margin-bottom: 1.5rem; /* Отступ снизу */
}

/* Карточка статистики */
.stat-card {
    background: white; /* Белый фон */
    border-radius: 12px; /* Скругление углов */
    padding: 1.25rem; /* Внутренние отступы */
    border: 1px solid #e2e8f0; /* Граница */
    transition: all 0.3s ease; /* Плавные переходы */
    display: flex; /* Flex-контейнер */
    align-items: center; /* Выравнивание по центру */
    height: 100%; /* Занимает всю высоту */
}

    .stat-card:hover {
        transform: translateY(-2px); /* Эффект приподнятия */
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Тень при наведении */
    }

/* Иконка статистики */
.stat-icon {
    width: 48px; /* Ширина */
    height: 48px; /* Высота */
    border-radius: 10px; /* Скругление углов */
    display: flex; /* Flex-контейнер */
    align-items: center; /* Выравнивание по центру */
    justify-content: center; /* Выравнивание по центру */
    margin-right: 1rem; /* Отступ справа */
    color: white; /* Цвет иконки */
    font-size: 1.3rem; /* Размер иконки */
    flex-shrink: 0; /* Запрет уменьшения */
}

/* Цвета иконок для разных типов статистики */
.stat-total .stat-icon {
    background-color: #4361ee;
}

.stat-completed .stat-icon {
    background-color: #10b981;
}

.stat-absent .stat-icon {
    background-color: #ef4444;
}

/* Контент статистики */
.stat-content {
    flex: 1; /* Занимает доступное пространство */
}

.stat-value {
    font-size: 1.4rem; /* Размер значения */
    font-weight: 700; /* Жирный текст */
    margin-bottom: 0.25rem; /* Отступ снизу */
    color: #1e293b; /* Цвет текста */
}

.stat-label {
    font-size: 0.85rem; /* Размер текста */
    color: #64748b; /* Цвет текста */
    font-weight: 500; /* Полужирный текст */
}

/* ==================== ТАБЛИЦА ЖУРНАЛА ==================== */
/* Основной контейнер таблицы */
.journal-card {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    min-height: 400px;
    border: 1px solid #e2e8f0;
}

/* Контейнер с горизонтальным скроллом */
.journal-table-container {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    max-height: calc(100vh - 300px);
    padding-bottom: 8px;
}

    /* Стили скроллбара */
    .journal-table-container::-webkit-scrollbar {
        height: 10px; /* Увеличиваем высоту для лучшей видимости */
        width: 10px;
    }

    .journal-table-container::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 10px;
        margin: 0 10px; /* Добавляем отступы по бокам */
    }

    .journal-table-container::-webkit-scrollbar-thumb {
        background: #94a3b8;
        border-radius: 10px;
        border: 2px solid #f1f5f9; /* Добавляем границу */
    }

        .journal-table-container::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

/* Основная таблица */
.journal-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    min-width: 800px;
    font-size: 0.85rem; /* Уменьшенный размер шрифта */
}

    /* Заголовки таблицы */
    .journal-table th {
        background-color: #4361ee;
        color: white;
        font-weight: 500;
        padding: 0.4rem 0.5rem; /* Уменьшенные отступы */
        text-align: center;
        position: sticky;
        top: 0;
        z-index: 10;
        white-space: nowrap;
        border-bottom: 2px solid #3a56d4;
        min-width: 70px; /* Фиксированная минимальная ширина столбцов */
    }

        /* Первая колонка (фиксированная) */
        .journal-table th:first-child {
            position: sticky;
            left: 0;
            z-index: 11;
            min-width: 220px; /* Увеличена ширина для полного ФИО */
            max-width: 220px;
            text-align: left;
            padding-left: 1rem;
            white-space: normal; /* Разрешаем перенос текста */
        }

    /* Ячейки таблицы */
    .journal-table td {
        padding: 0.3rem 0.5rem; /* Уменьшенные отступы */
        border-bottom: 1px solid #f1f5f9;
        vertical-align: middle;
        background-color: white;
        height: 40px; /* Уменьшенная высота строк */
        min-width: 70px; /* Фиксированная минимальная ширина столбцов */
    }

    /* Эффект при наведении на строку */
    .journal-table tr:hover td {
        background-color: #f8fafc;
    }

    /* Первая ячейка строки (фиксированная) */
    .journal-table td:first-child {
        position: sticky;
        left: 0;
        z-index: 9;
        background-color: white;
        min-width: 220px; /* Увеличена ширина для полного ФИО */
        max-width: 220px;
        font-weight: 500;
        padding-left: 1rem;
        white-space: normal; /* Разрешаем перенос текста */
        word-wrap: break-word; /* Перенос длинных слов */
        border-right: 1px solid #f1f5f9;
    }

.student-name-cell {
    white-space: normal !important; /* Обязательно разрешаем перенос */
    overflow: visible !important; /* Разрешаем отображение всего текста */
    text-overflow: clip !important; /* Убираем многоточие */
    line-height: 1.3; /* Улучшаем читаемость */
}

/* ==================== ЯЧЕЙКИ СТАТУСОВ ==================== */
.status-cell {
    height: 40px; /* Уменьшенная высота */
    min-width: 70px; /* Уменьшенная минимальная ширина */
    position: relative;
    text-align: center;
    padding: 0.15rem !important; /* Минимальные отступы */
}

/* Выпадающий список статусов */
.status-select {
    width: 100%;
    padding: 0.25rem 0.4rem; /* Уменьшенные отступы */
    border-radius: 5px;
    border: 1px solid #e2e8f0;
    background-color: white;
    cursor: pointer;
    font-size: 0.8rem; /* Уменьшенный размер шрифта */
    appearance: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%234361ee' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 0.4rem center;
    background-size: 10px 6px; /* Уменьшенный размер иконки */
}

    .status-select:focus {
        border-color: #4361ee; /* Цвет границы при фокусе */
        box-shadow: 0 0 0 0.15rem rgba(67, 97, 238, 0.15); /* Тень при фокусе */
    }

/* Кнопка комментария */
.comment-btn {
    position: absolute;
    bottom: 3px;
    right: 3px;
    width: 18px;
    height: 18px;
    padding: 0;
    font-size: 0.6rem;
    border-radius: 3px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: white;
    border: 1px solid #e2e8f0;
    color: #4361ee;
}

    .comment-btn:hover {
        background-color: #4361ee; /* Фон при наведении */
        color: white; /* Цвет иконки при наведении */
    }

/* Стиль для кнопки с комментарием */
.has-comment {
    color: white; /* Цвет иконки */
    background-color: #4361ee; /* Фон */
    border-color: #4361ee; /* Граница */
}

/* ==================== СООБЩЕНИЯ ==================== */
/* Состояние пустого журнала */
.empty-state {
    text-align: center; /* Выравнивание по центру */
    padding: 3rem 1rem; /* Внутренние отступы */
    color: #64748b; /* Цвет текста */
}

.empty-icon {
    font-size: 2.5rem; /* Размер иконки */
    color: #cbd5e0; /* Цвет иконки */
    margin-bottom: 1rem; /* Отступ снизу */
}

.empty-title {
    font-weight: 600; /* Жирный текст */
    font-size: 1.2rem; /* Размер текста */
    margin-bottom: 0.5rem; /* Отступ снизу */
    color: #1e293b; /* Цвет текста */
}

.empty-text {
    font-size: 0.95rem; /* Размер текста */
    margin-bottom: 1.5rem; /* Отступ снизу */
}

/* ==================== АНИМАЦИИ ==================== */
.fade-out {
    opacity: 0; /* Полная прозрачность */
    transition: opacity 0.3s ease-out; /* Плавное исчезновение */
}

/* ==================== КЛАССЫ СТАТУСОВ ==================== */
.table-success {
    background-color: rgba(16, 185, 129, 0.05) !important; /* Зеленый */
}

.table-danger {
    background-color: rgba(239, 68, 68, 0.05) !important; /* Красный */
}

.table-warning {
    background-color: rgba(245, 158, 11, 0.05) !important; /* Желтый */
}

.table-info {
    background-color: rgba(6, 182, 212, 0.05) !important; /* Голубой */
}

.table-secondary {
    background-color: rgba(100, 116, 139, 0.05) !important; /* Серый */
}

/* ==================== АДАПТИВНОСТЬ ==================== */
@media (max-width: 768px) {

    .clickable-student:hover {
        transform: translateY(-1px) !important;
    }

    .clickable-student:hover {
        transform: none; /* На мобильных убираем поднятие */
    }
    /* Контент на мобильных */
    .journal-content {
        padding: 1rem; /* Уменьшенные отступы */
    }

    /* Контейнер управления на мобильных */
    .journal-controls-container {
        flex-direction: column; /* Вертикальное расположение */
        align-items: stretch; /* Растягивание на всю ширину */
        gap: 0.75rem; /* Уменьшенный отступ */
    }

    /* Селектор периода на мобильных */
    .journal-period-selector {
        width: 100%; /* Ширина 100% */
        min-width: auto; /* Автоматическая минимальная ширина */
    }

    /* Действия на мобильных */
    .journal-actions {
        width: 100%; /* Ширина 100% */
        justify-content: space-between; /* Равномерное распределение */
    }

    /* Карточки на мобильных */
    .selector-card {
        padding: 1rem; /* Уменьшенные отступы */
    }

    .stat-card {
        padding: 1rem; /* Уменьшенные отступы */
    }

    /* Фиксированная колонка на мобильных */
    .journal-table th:first-child,
    .journal-table td:first-child {
        min-width: 150px; /* Уменьшенная минимальная ширина */
        max-width: 150px; /* Уменьшенная максимальная ширина */
        padding-left: 0.75rem; /* Уменьшенный отступ */
    }

    /* Контейнер таблицы на мобильных */
    .journal-table-container {
        padding: 0; /* Нет отступов */
    }

    /* Ячейки статусов на мобильных */
    .status-cell {
        min-width: 80px; /* Уменьшенная минимальная ширина */
    }

    /* Текст кнопок на мобильных */
    .btn-text {
        display: inline !important; /* Всегда показывать текст */
        margin-left: 5px; /* Отступ от иконки */
    }
}

.clickable-student::after {
    transition: opacity 0.2s ease, transform 0.2s ease;
}

.clickable-student:hover::after {
    transform: translateY(-50%) translateX(3px);
}

.clickable-student {
    will-change: transform;
    transition: transform 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

    .clickable-student::after {
        transition: all 0.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }

/* Стили для ошибок в модальном окне */
.modal-error {
    transition: opacity 0.3s ease;
    margin-bottom: 1rem;
}

/* Анимация появления/исчезновения */
@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

.modal-error {
    animation: fadeIn 0.3s ease;
}

/* Стили для состояния восстановления */
.restoring-state {
    opacity: 0.7;
    pointer-events: none;
    position: relative;
}

    .restoring-state::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(255, 255, 255, 0.7);
        z-index: 10;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .restoring-state::before {
        content: "Восстановление состояния...";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 11;
        font-weight: bold;
        color: #4361ee;
    }